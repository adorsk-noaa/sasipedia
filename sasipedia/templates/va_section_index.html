{% extends "section.html" %}

{% block title %}{{section.name}}{% endblock %}

{% block styles %}
{{super()}}
<link rel="stylesheet" href="{{baseUrl}}assets/styles/vaSection.css" />
<link rel="stylesheet" href="{{baseUrl}}assets/js/jquery.dataTables/media/css/jquery.dataTables.css" />
<link rel="stylesheet" href="{{baseUrl}}assets/js/jquery.dataTables/Scroller-1.1.0/media/css/dataTables.scroller.css" />
<link rel="stylesheet" href="{{baseUrl}}assets/js/jquery.dataTables/ColumnFilterWidgets/media/css/ColumnFilterWidgets.css" />
{% endblock %}

{% block content %}
<h2>{{section.label}}</h2>

<div class="va-table-container">
    <table id="va-table">
        <thead>
            <tr>
                {% for fieldname in sectionData['fieldnames'] %}
                <th>{{fieldname}}</th>
                {% endfor %}
            </tr>
        </thead>

        <tbody>
            {% for row in sectionData['rows'] %}
            <tr>
                {% for fieldname in sectionData['fieldnames'] %}
                <td>{{row[fieldname]}}</td>
                {% endfor %}
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}


{% block scripts %}
{{ super() }}

<script type="text/javascript" src="{{baseUrl}}assets/js/jquery.dataTables/jquery.dataTables.min.js"></script>
<script type="text/javascript" src="{{baseUrl}}assets/js/jquery.dataTables/Scroller-1.1.0/media/js/dataTables.scroller.min.js"></script>
<script type="text/javascript" src="{{baseUrl}}assets/js/jquery.dataTables/ColumnFilterWidgets/media/js/ColumnFilterWidgets.js"></script>

<script type="text/javascript">

$(document).ready(function() {
    $table = $('#va-table');
    $table.dataTable({
        sScrollY: $('.va-table-container').height(),
        sDom: 'WrtiS',
        bDeferRender: true,
        oColumnFilterWidgets: {
            bGroupTerms: false
        }
    });
});       

</script>
{% endblock %}

